<!doctype html>
<html lang="en" class="no-js">
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.72.0" />

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">



<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/efekarakus.github.io/copilot-demo-docs/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/efekarakus.github.io/copilot-demo-docs/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/efekarakus.github.io/copilot-demo-docs/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/efekarakus.github.io/copilot-demo-docs/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/efekarakus.github.io/copilot-demo-docs/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/efekarakus.github.io/copilot-demo-docs/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/efekarakus.github.io/copilot-demo-docs/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/efekarakus.github.io/copilot-demo-docs/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/efekarakus.github.io/copilot-demo-docs/favicons/android-192x192.png" sizes="192x192">

<title>Applications | AWS Copilot CLI</title><meta property="og:title" content="Applications" />
<meta property="og:description" content="An application is a group of related services, environments, and pipelines. Whether you have one service that does everything or a constelation of micro-services, Copilot organizes them and the environments they&rsquo;re deployed to into an &ldquo;application&rdquo;.
Let&rsquo;s walk through an example. We want to build a voting app which needs to collect votes and aggregate the results.
To set up our vote app with two services, we can run copilot init twice." />
<meta property="og:type" content="article" />
<meta property="og:url" content="efekarakus.github.io/copilot-demo-docs/docs/concepts/applications/" />
<meta property="article:published_time" content="2017-01-05T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-06-24T13:48:08-07:00" /><meta property="og:site_name" content="AWS Copilot CLI" />
<meta itemprop="name" content="Applications">
<meta itemprop="description" content="An application is a group of related services, environments, and pipelines. Whether you have one service that does everything or a constelation of micro-services, Copilot organizes them and the environments they&rsquo;re deployed to into an &ldquo;application&rdquo;.
Let&rsquo;s walk through an example. We want to build a voting app which needs to collect votes and aggregate the results.
To set up our vote app with two services, we can run copilot init twice.">
<meta itemprop="datePublished" content="2017-01-05T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-06-24T13:48:08-07:00" />
<meta itemprop="wordCount" content="709">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Applications"/>
<meta name="twitter:description" content="An application is a group of related services, environments, and pipelines. Whether you have one service that does everything or a constelation of micro-services, Copilot organizes them and the environments they&rsquo;re deployed to into an &ldquo;application&rdquo;.
Let&rsquo;s walk through an example. We want to build a voting app which needs to collect votes and aggregate the results.
To set up our vote app with two services, we can run copilot init twice."/>





<link rel="preload" href="/efekarakus.github.io/copilot-demo-docs/scss/main.min.62cd266fce2c760f71317bf0fdd32a840821a180a2f06e94a8191343ce5b2262.css" as="style">
<link href="/efekarakus.github.io/copilot-demo-docs/scss/main.min.62cd266fce2c760f71317bf0fdd32a840821a180a2f06e94a8191343ce5b2262.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>


</head>
<body class="td-page">
<header>
    
<nav class="js-navbar-scroll navbar navbar-expand-lg  flex-column flex-md-row td-navbar" >
    <div class="container">
        <div class="row">
            <div class="col-12">
                <a class="navbar-brand" href="efekarakus.github.io/copilot-demo-docs/">
                    <span class="navbar-logo"></span><span class="site-title">$ copilot</span>
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main_navbar" aria-controls="main_navbar" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="main-navbar collapse navbar-collapse justify-content-between" id="main_navbar">
                    <ul class="navbar-nav mt-2 mt-lg-0 m-auto">
                        
                        
                            <li class="nav-item mr-4 mb-2 mb-lg-0">
                                
                                
                                    
                                
                                
                                
                                <a class="nav-link active" href="efekarakus.github.io/copilot-demo-docs/docs/" ><span class="active">Documentation</span></a>
                            </li>
                        
                            <li class="nav-item mr-4 mb-2 mb-lg-0">
                                
                                
                                    
                                
                                
                                
                                <a class="nav-link" href="efekarakus.github.io/copilot-demo-docs/community/" ><span>Community</span></a>
                            </li>
                        
                        
                        
                    </ul>
                </div>
                <div class="navbar-nav d-none d-lg-block">
</div>
            </div>
        </div>
    </div>

</nav>

</header>
<div class="container-fluid td-outer">
    <div class="container">
        <div class="td-main">
            <div class="row flex-xl-nowrap">
                <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
                    




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav pt-2 pl-4" id="td-section-nav">
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="efekarakus.github.io/copilot-demo-docs/docs/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a>
  </li>
  <ul>
    <li class="collapse show" id="efekarakusgithubiocopilot-demo-docsdocs">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="efekarakus.github.io/copilot-demo-docs/docs/concepts/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Concepts</a>
  </li>
  <ul>
    <li class="collapse show" id="efekarakusgithubiocopilot-demo-docsdocsconcepts">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page  active" id="m-efekarakusgithubiocopilot-demo-docsdocsconceptsapplications" href="efekarakus.github.io/copilot-demo-docs/docs/concepts/applications/">Applications</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-efekarakusgithubiocopilot-demo-docsdocsconceptsenvironments" href="efekarakus.github.io/copilot-demo-docs/docs/concepts/environments/">Environments</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-efekarakusgithubiocopilot-demo-docsdocsconceptsservices" href="efekarakus.github.io/copilot-demo-docs/docs/concepts/services/">Services</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-efekarakusgithubiocopilot-demo-docsdocsconceptspipelines" href="efekarakus.github.io/copilot-demo-docs/docs/concepts/pipelines/">Pipelines</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




                </div>
                <main class="col-12 col-md-9 col-xl-10 pl-md-5 documentation" role="main">
                    
  

                    <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="efekarakus.github.io/copilot-demo-docs/docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="efekarakus.github.io/copilot-demo-docs/docs/concepts/">Concepts</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="efekarakus.github.io/copilot-demo-docs/docs/concepts/applications/">Applications</a>
</li>

	</ol>
</nav	>

                    
<div class="td-content">
	<h1>Applications</h1>
    
	       
	<p>An application is a group of related services, environments, and pipelines. Whether you have one service that does everything or a constelation of micro-services, Copilot organizes them and the environments they&rsquo;re deployed to into an &ldquo;application&rdquo;.</p>
<p>Let&rsquo;s walk through an example. We want to build a voting app which needs to collect votes and aggregate the results.</p>
<p>To set up our vote app with two services, we can run <code>copilot init</code> twice. The first time we run <code>init</code>, we&rsquo;ll be asked what we should call the application this service will belong to. Since we&rsquo;re trying to build a voting system, we can call our application &ldquo;vote&rdquo; and our first service &ldquo;collector&rdquo;. The next time we run <code>init</code>, we&rsquo;ll be asked if we want to add our new service to the existing “vote” app, and we’ll name the new service &ldquo;aggregator&rdquo;.</p>
<p>Your application configuration (which services and environments belong to it) is stored in your AWS account, so any other users in your account will be able to develop on the “vote&rdquo; app as well. This means that you can have a teammate work on one service while you develop the other.</p>
<p><img src="/docs/concepts/app-concept.png" alt=""></p>
<h2 id="creating-an-app">Creating an App</h2>
<p>To set up an application, you can just run <code>copilot init</code>. You&rsquo;ll be asked if you want to set up an app or choose an use app.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">copilot init
</code></pre></div><p>Once you&rsquo;ve created an application, Copilot stores that application in SSM Parameter store in your AWS account. The account used to set up your application is known as the &ldquo;applicaiton account&rdquo;. This is where your app&rsquo;s configuration lives, and anyone who has access to this account can use this app.</p>
<p>All resources created within this application will be tagged with the <code>copilot-app</code> <a href="https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html">aws resource tag</a>. This helps you know which app resources in your account belong to.</p>
<p>The name of your applicaiton has to be unique within your account (even across region).</p>
<h3 id="additional-app-configurations">Additional App Configurations</h3>
<p>You can also provide more granular configuration for your application by running <code>copilot app init</code>. This includes options to:</p>
<ul>
<li>Tag all application, service and environment resources with an additional set of <a href="https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html">aws resource tags</a></li>
<li>Use a custom domain name for Load Balanced services</li>
</ul>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ copilot app init                             <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  --domain my-awesome-app.aws                  <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  --resource-tags <span style="color:#000">department</span><span style="color:#ce5c00;font-weight:bold">=</span>MyDept,team<span style="color:#ce5c00;font-weight:bold">=</span>MyTeam
</code></pre></div><h2 id="app-infrastructure">App Infrastructure</h2>
<p>While the bulk of the infrastructure Copilot provisions is specific to an environment and service, there are some application-wide resources, as well.</p>
<p><img src="/docs/concepts/app-infra.png" alt=""></p>
<h3 id="ecr-repositories">ECR Repositories</h3>
<p>ECR Repositories are regional resources which store your service images. Each service has its own ECR Repository per region in your app.</p>
<p>In the above diagram, the app has several environments spread across three regions. Each of those regions has its own ECR repository for every service in your app. In this case, there are three services.</p>
<p>Every time you add a service, we create an ECR Repository in every region. We do this to maintain region isolation (if one region goes down, environments in other region won&rsquo;t be affected) and to reduce cross region data transfer costs.</p>
<p>These ECR Repositories all live within your app&rsquo;s account (not the environment accounts) - and have policies which allow your environment accounts to pull from them.</p>
<h3 id="release-infrastructure">Release Infrastructure</h3>
<p>For every region represented in your app, we create a KMS Key and an S3 bucket. These resources are used by CodePipeline to enable cross region and cross account deployments. All Pipelines in your app share these same resources.</p>
<p>Similar to the ECR Repositories, the S3 bucket and KMS keys have policies which allow for all of your environments, even in other accounts, to read encrypted deployment artifacts. This makes your cross-account, cross-region CodePipelines possible.</p>
<h2 id="digging-into-your-app">Digging into your App</h2>
<p>Now that we&rsquo;ve set up an app, we can check on it using Copilot. Below are a few common ways to check in on your app.</p>
<h3 id="what-applications-are-in-my-account">What applications are in my account?</h3>
<p>To see all the apps in your current account and region you can run <code>copilot app ls</code>.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ copilot app ls
vote
ecs-kudos
</code></pre></div><h3 id="whats-in-my-application">What&rsquo;s in my application?</h3>
<p>Running <code>copilot app show</code> will show you a summary of your application, including all the services and environments in your app.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ copilot app show
About

  Name              vote
  URI               vote-app.aws

Environments

  Name              AccountID           Region
  <span style="color:#204a87">test</span>              <span style="color:#0000cf;font-weight:bold">000000000000</span>        us-east-1

Services

  Name              Type
  collector         Load Balanced Web Service
  aggregator        Backend Service
</code></pre></div>
	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified June 24, 2020: <a  href="https://github.com/aws/amazon-ecs-cli-v2/commit/b95525b58e0295de8f98b03454752023ea6e94f4">add docs (b95525b)</a>
</div>
</div>


                </main>
            </div>
        </div>
    </div>
    
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/aws/amazon-ecs-cli-v2">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2020 Amazon Web Services, Inc. or its affiliates. All Rights Reserved</small>
        <small class="ml-1"><a href="https://aws.amazon.com/privacy" target="_blank">Privacy Policy</a></small>
	
		
	
      </div>
    </div>
  </div>
</footer>


</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>







<script src="/efekarakus.github.io/copilot-demo-docs/js/main.min.3aa9fa41d34d28138ee37faccf8e7a44fef6b3716b6e11571f2cad15ed83a111.js" integrity="sha256-Oqn6QdNNKBOO43&#43;sz456RP72s3FrbhFXHyytFe2DoRE=" crossorigin="anonymous"></script>



</body>
</html>